<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Socket.IO Express Example</title>
  </head>
  <body>
    <h1>Socket.IO Express Example</h1>

    <form id="set-nickname">
      <label for='nickname'>Nickname:</label>
      <input type="text" id='nickname' />
      <input type="submit"/>
    </form>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        // listen for welcome event and write to console

        var socket = io.connect();
        socket.on('welcome', function(data) {
          console.log(data.text);
        });

        // anonymous jQuery wrap function, $ ensures other libraries using $ will work alongside jQuery
        jQuery(function ($) {
            var nickname = $('#nickname');
            var setNickname = $('#set-nickname');

            // do when form is submitted
            setNickname.submit(function(event) {
                event.preventDefault();     //prevent submission
                socket.emit('nickname', nickname.val() );     // pass nickname to server from input val
            });


        });






    </script>
  </body>
</html>